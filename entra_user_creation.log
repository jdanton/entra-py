2025-05-28 14:38:21,961 - __main__ - INFO - Starting Azure External Tenant User Creator
2025-05-28 14:38:21,961 - __main__ - INFO - Creating users from JSON file with secure passwords...
2025-05-28 14:38:21,962 - __main__ - ERROR - JSON file not found: sample_users.json
2025-05-28 14:39:19,290 - __main__ - INFO - Starting Azure External Tenant User Creator
2025-05-28 14:39:19,290 - __main__ - INFO - Creating users from JSON file with secure passwords...
2025-05-28 14:39:19,290 - __main__ - ERROR - JSON file not found: sample_users.json
2025-05-28 14:39:28,927 - __main__ - INFO - Starting Azure External Tenant User Creator
2025-05-28 14:39:28,928 - __main__ - INFO - Creating users from JSON file with secure passwords...
2025-05-28 14:39:28,928 - __main__ - ERROR - JSON file not found: sample_users.json
2025-05-28 14:39:55,331 - __main__ - INFO - Starting Azure External Tenant User Creator
2025-05-28 14:39:55,331 - __main__ - INFO - Creating users from JSON file with secure passwords...
2025-05-28 14:39:55,332 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:39:55,747 - __main__ - ERROR - Error acquiring access token: 401 Client Error: Unauthorized for url: https://login.microsoftonline.com/598c44cc-c795-4d3b-9b71-ad77e74e1bdb/oauth2/v2.0/token
2025-05-28 14:40:55,472 - __main__ - INFO - Starting Azure External Tenant User Creator
2025-05-28 14:40:55,472 - __main__ - INFO - Creating users from JSON file with secure passwords...
2025-05-28 14:40:55,472 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:40:55,709 - __main__ - ERROR - Error acquiring access token: 401 Client Error: Unauthorized for url: https://login.microsoftonline.com/598c44cc-c795-4d3b-9b71-ad77e74e1bdb/oauth2/v2.0/token
2025-05-28 14:44:44,867 - __main__ - INFO - Starting Azure External Tenant User Creator
2025-05-28 14:44:44,867 - __main__ - INFO - Creating users from JSON file with secure passwords...
2025-05-28 14:44:44,867 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:44:44,867 - __main__ - ERROR - Missing required environment variables: AZURE_CLIENT_ID and/or AZURE_CLIENT_SECRET
2025-05-28 14:47:32,844 - __main__ - INFO - ðŸš€ Starting Azure Entra ID User Creator
2025-05-28 14:47:32,844 - __main__ - INFO - ðŸ“‚ Loading user data and creating users...
2025-05-28 14:47:32,844 - __main__ - ERROR - âŒ Application error: name 'create_users_from_json' is not defined
2025-05-28 14:50:37,377 - __main__ - INFO - ðŸš€ Starting Azure Entra ID User Creator
2025-05-28 14:50:37,377 - __main__ - INFO - ðŸ“‚ Loading user data and creating users...
2025-05-28 14:50:37,378 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:50:37,378 - __main__ - INFO - Azure configuration loaded successfully for tenant: 598c44cc...
2025-05-28 14:50:37,378 - __main__ - INFO - Requesting access token for tenant: 598c44cc...
2025-05-28 14:50:37,675 - __main__ - ERROR - âŒ Error acquiring access token: 401 Client Error: Unauthorized for url: https://login.microsoftonline.com/598c44cc-c795-4d3b-9b71-ad77e74e1bdb/oauth2/v2.0/token
2025-05-28 14:50:37,676 - __main__ - ERROR - EntraID Error Details: {
  "error": "invalid_client",
  "error_description": "AADSTS7000215: Invalid client secret provided. Ensure the secret being sent in the request is the client secret value, not the client secret ID, for a secret added to app '710ab464-7e14-4e46-95f9-a602249aa805'. Trace ID: 2043539f-8cb8-4199-9540-371681300200 Correlation ID: a400c713-0150-493e-85a3-79235a9218cd Timestamp: 2025-05-28 18:50:37Z",
  "error_codes": [
    7000215
  ],
  "timestamp": "2025-05-28 18:50:37Z",
  "trace_id": "2043539f-8cb8-4199-9540-371681300200",
  "correlation_id": "a400c713-0150-493e-85a3-79235a9218cd",
  "error_uri": "https://login.microsoftonline.com/error?code=7000215"
}
2025-05-28 14:50:37,676 - __main__ - ERROR - ðŸ”§ Troubleshooting: Check your AZURE_CLIENT_ID and AZURE_CLIENT_SECRET
2025-05-28 14:50:37,676 - __main__ - ERROR -    - Verify the client secret hasn't expired
2025-05-28 14:50:37,676 - __main__ - ERROR -    - Ensure the app registration exists in the correct tenant
2025-05-28 14:51:32,409 - __main__ - INFO - ðŸš€ Starting Azure Entra ID User Creator
2025-05-28 14:51:32,409 - __main__ - INFO - ðŸ“‚ Loading user data and creating users...
2025-05-28 14:51:32,409 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:51:32,409 - __main__ - INFO - Azure configuration loaded successfully for tenant: 598c44cc...
2025-05-28 14:51:32,409 - __main__ - INFO - Requesting access token for tenant: 598c44cc...
2025-05-28 14:51:32,724 - __main__ - INFO - âœ… Access token acquired successfully
2025-05-28 14:51:32,725 - __main__ - INFO - Processing user: John Doe
2025-05-28 14:51:32,725 - __main__ - INFO - ðŸ” Generated secure password for John Doe
2025-05-28 14:51:32,725 - __main__ - INFO - Creating user: John Doe
2025-05-28 14:51:33,391 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:51:33,391 - __main__ - INFO - Processing user: Jane Smith
2025-05-28 14:51:33,392 - __main__ - INFO - ðŸ” Generated secure password for Jane Smith
2025-05-28 14:51:33,392 - __main__ - INFO - Creating user: Jane Smith
2025-05-28 14:51:34,099 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:51:34,099 - __main__ - INFO - Processing user: Mike Johnson
2025-05-28 14:51:34,099 - __main__ - INFO - ðŸ” Generated secure password for Mike Johnson
2025-05-28 14:51:34,099 - __main__ - INFO - Creating user: Mike Johnson
2025-05-28 14:51:34,715 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:51:34,717 - __main__ - INFO - Processing user: Sarah Wilson
2025-05-28 14:51:34,718 - __main__ - INFO - ðŸ” Generated secure password for Sarah Wilson
2025-05-28 14:51:34,718 - __main__ - INFO - Creating user: Sarah Wilson
2025-05-28 14:51:35,357 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:51:35,359 - __main__ - INFO - Results saved to user_creation_results.json
2025-05-28 14:52:10,652 - __main__ - INFO - ðŸš€ Starting Azure Entra ID User Creator
2025-05-28 14:52:10,652 - __main__ - INFO - ðŸ“‚ Loading user data and creating users...
2025-05-28 14:52:10,652 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:52:10,652 - __main__ - INFO - Azure configuration loaded successfully for tenant: 598c44cc...
2025-05-28 14:52:10,652 - __main__ - INFO - Requesting access token for tenant: 598c44cc...
2025-05-28 14:52:10,987 - __main__ - INFO - âœ… Access token acquired successfully
2025-05-28 14:52:10,987 - __main__ - INFO - Processing user: John Doe
2025-05-28 14:52:10,988 - __main__ - INFO - ðŸ” Generated secure password for John Doe
2025-05-28 14:52:10,988 - __main__ - INFO - Creating user: John Doe
2025-05-28 14:52:11,577 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:52:11,577 - __main__ - INFO - Processing user: Jane Smith
2025-05-28 14:52:11,577 - __main__ - INFO - ðŸ” Generated secure password for Jane Smith
2025-05-28 14:52:11,577 - __main__ - INFO - Creating user: Jane Smith
2025-05-28 14:52:12,196 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:52:12,198 - __main__ - INFO - Processing user: Mike Johnson
2025-05-28 14:52:12,198 - __main__ - INFO - ðŸ” Generated secure password for Mike Johnson
2025-05-28 14:52:12,198 - __main__ - INFO - Creating user: Mike Johnson
2025-05-28 14:52:12,808 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:52:12,810 - __main__ - INFO - Processing user: Sarah Wilson
2025-05-28 14:52:12,810 - __main__ - INFO - ðŸ” Generated secure password for Sarah Wilson
2025-05-28 14:52:12,810 - __main__ - INFO - Creating user: Sarah Wilson
2025-05-28 14:52:13,347 - __main__ - ERROR - âŒ Error creating user: The domain portion of the userPrincipalName property is invalid. You must use one of the verified domain names in your organization.
2025-05-28 14:52:13,350 - __main__ - INFO - Results saved to user_creation_results.json
2025-05-28 14:54:55,931 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 14:54:55,932 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 14:54:55,932 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:54:55,932 - __main__ - INFO - Azure B2B configuration loaded successfully for tenant: 598c44cc...
2025-05-28 14:54:55,932 - __main__ - INFO - Requesting access token for tenant: 598c44cc...
2025-05-28 14:54:56,579 - __main__ - INFO - âœ… Access token acquired successfully
2025-05-28 14:54:56,579 - __main__ - INFO - Processing external user: John Doe
2025-05-28 14:54:56,580 - __main__ - INFO - ðŸ” Generated secure password for John Doe
2025-05-28 14:54:56,580 - __main__ - INFO - Processing external user: Jane Smith
2025-05-28 14:54:56,580 - __main__ - INFO - ðŸ” Generated secure password for Jane Smith
2025-05-28 14:54:56,580 - __main__ - INFO - Processing external user: Mike Johnson
2025-05-28 14:54:56,580 - __main__ - INFO - ðŸ” Generated secure password for Mike Johnson
2025-05-28 14:54:56,581 - __main__ - INFO - Processing external user: Sarah Wilson
2025-05-28 14:54:56,581 - __main__ - INFO - ðŸ” Generated secure password for Sarah Wilson
2025-05-28 14:54:56,582 - __main__ - INFO - Results saved to external_user_creation_results.json
2025-05-28 14:55:37,208 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 14:55:37,208 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 14:55:37,209 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 14:55:37,209 - __main__ - INFO - Azure B2B configuration loaded successfully for tenant: 598c44cc...
2025-05-28 14:55:37,209 - __main__ - INFO - Requesting access token for tenant: 598c44cc...
2025-05-28 14:55:37,684 - __main__ - INFO - âœ… Access token acquired successfully
2025-05-28 14:55:37,684 - __main__ - INFO - Processing external user: John Doe
2025-05-28 14:55:37,684 - __main__ - INFO - ðŸ” Generated secure password for John Doe
2025-05-28 14:55:37,685 - __main__ - INFO - Processing external user: Jane Smith
2025-05-28 14:55:37,685 - __main__ - INFO - ðŸ” Generated secure password for Jane Smith
2025-05-28 14:55:37,685 - __main__ - INFO - Processing external user: Mike Johnson
2025-05-28 14:55:37,685 - __main__ - INFO - ðŸ” Generated secure password for Mike Johnson
2025-05-28 14:55:37,685 - __main__ - INFO - Processing external user: Sarah Wilson
2025-05-28 14:55:37,685 - __main__ - INFO - ðŸ” Generated secure password for Sarah Wilson
2025-05-28 14:55:37,685 - __main__ - INFO - Results saved to external_user_creation_results.json
2025-05-28 15:02:57,652 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 15:02:57,652 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 15:02:57,653 - __main__ - INFO - Loaded 4 users from users.json
2025-05-28 15:02:57,653 - __main__ - INFO - Azure B2B configuration loaded successfully for tenant: 598c44cc...
2025-05-28 15:02:57,653 - __main__ - INFO - Requesting access token for tenant: 598c44cc...
2025-05-28 15:02:57,937 - __main__ - INFO - âœ… Access token acquired successfully
2025-05-28 15:02:57,938 - __main__ - INFO - Processing external user: John Doe
2025-05-28 15:02:57,938 - __main__ - INFO - ðŸ” Generated secure password for John Doe
2025-05-28 15:02:57,938 - __main__ - INFO - Processing external user: Jane Smith
2025-05-28 15:02:57,938 - __main__ - INFO - ðŸ” Generated secure password for Jane Smith
2025-05-28 15:02:57,938 - __main__ - INFO - Processing external user: Mike Johnson
2025-05-28 15:02:57,938 - __main__ - INFO - ðŸ” Generated secure password for Mike Johnson
2025-05-28 15:02:57,938 - __main__ - INFO - Processing external user: Sarah Wilson
2025-05-28 15:02:57,938 - __main__ - INFO - ðŸ” Generated secure password for Sarah Wilson
2025-05-28 15:02:57,939 - __main__ - INFO - Results saved to external_user_creation_results.json
2025-05-28 15:05:34,189 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 15:05:34,189 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 15:05:34,190 - __main__ - ERROR - Invalid JSON format: Expecting value: line 1 column 1 (char 0)
2025-05-28 15:06:07,177 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 15:06:07,177 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 15:06:07,177 - __main__ - ERROR - Invalid JSON format: Expecting value: line 1 column 1 (char 0)
2025-05-28 15:06:07,177 - __main__ - ERROR - âŒ Application error: 'summary'
2025-05-28 15:06:41,834 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 15:06:41,835 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 15:06:41,835 - __main__ - ERROR - Invalid JSON format: Expecting value: line 1 column 1 (char 0)
2025-05-28 15:06:41,835 - __main__ - ERROR - âŒ Application error: 'summary'
2025-05-28 15:07:37,655 - __main__ - INFO - ðŸš€ Starting Azure Entra ID External User Creator (B2B)
2025-05-28 15:07:37,655 - __main__ - INFO - ðŸ“‚ Loading user data and creating external users...
2025-05-28 15:07:37,655 - __main__ - INFO - ðŸ“‹ Loaded 4 users from users.json
2025-05-28 15:07:37,655 - __main__ - INFO - âœ… Azure B2B configuration loaded successfully for tenant: 598c44cc...
2025-05-28 15:07:37,655 - __main__ - INFO - ðŸ”‘ Requesting access token for tenant: 598c44cc...
2025-05-28 15:07:38,055 - __main__ - INFO - âœ… Access token acquired successfully
2025-05-28 15:07:38,055 - __main__ - INFO - ðŸ‘¤ Processing external user: John Doe
2025-05-28 15:07:38,055 - __main__ - INFO - ðŸ” Generated secure password for John Doe
2025-05-28 15:07:38,055 - __main__ - INFO - ðŸ·ï¸  Added primary_tenant_id: 12345678... for John Doe
2025-05-28 15:07:38,666 - __main__ - ERROR - âŒ Error retrieving verified domains: 403 Client Error: Forbidden for url: https://graph.microsoft.com/v1.0/domains
2025-05-28 15:07:38,666 - __main__ - WARNING - âš ï¸  Using fallback domain: telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:38,666 - __main__ - INFO - ðŸ”— Created B2B UPN: johndoe@contoso.com -> johndoe_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:38,666 - __main__ - INFO - ðŸ‘¤ Creating external user: John Doe (johndoe@contoso.com)
2025-05-28 15:07:39,570 - __main__ - INFO - âœ… External user created successfully: johndoe@contoso.com -> johndoe_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:39,570 - __main__ - INFO - âœ… Successfully created: John Doe
2025-05-28 15:07:39,570 - __main__ - INFO - ðŸ‘¤ Processing external user: Jane Smith
2025-05-28 15:07:39,570 - __main__ - INFO - ðŸ” Generated secure password for Jane Smith
2025-05-28 15:07:39,571 - __main__ - INFO - ðŸ·ï¸  Added primary_tenant_id: 87654321... for Jane Smith
2025-05-28 15:07:39,571 - __main__ - INFO - ðŸ”— Created B2B UPN: janesmith@contoso.com -> janesmith_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:39,571 - __main__ - INFO - ðŸ‘¤ Creating external user: Jane Smith (janesmith@contoso.com)
2025-05-28 15:07:40,602 - __main__ - INFO - âœ… External user created successfully: janesmith@contoso.com -> janesmith_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:40,603 - __main__ - INFO - âœ… Successfully created: Jane Smith
2025-05-28 15:07:40,603 - __main__ - INFO - ðŸ‘¤ Processing external user: Mike Johnson
2025-05-28 15:07:40,603 - __main__ - INFO - ðŸ” Generated secure password for Mike Johnson
2025-05-28 15:07:40,603 - __main__ - INFO - ðŸ·ï¸  Added primary_tenant_id: 11111111... for Mike Johnson
2025-05-28 15:07:40,603 - __main__ - INFO - ðŸ”— Created B2B UPN: mikejohnson@contoso.com -> mikejohnson_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:40,604 - __main__ - INFO - ðŸ‘¤ Creating external user: Mike Johnson (mikejohnson@contoso.com)
2025-05-28 15:07:41,113 - __main__ - INFO - âœ… External user created successfully: mikejohnson@contoso.com -> mikejohnson_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:41,115 - __main__ - INFO - âœ… Successfully created: Mike Johnson
2025-05-28 15:07:41,115 - __main__ - INFO - ðŸ‘¤ Processing external user: Sarah Wilson
2025-05-28 15:07:41,115 - __main__ - INFO - ðŸ” Generated secure password for Sarah Wilson
2025-05-28 15:07:41,115 - __main__ - INFO - ðŸ·ï¸  Added primary_tenant_id: 99999999... for Sarah Wilson
2025-05-28 15:07:41,115 - __main__ - INFO - ðŸ”— Created B2B UPN: sarahwilson@contoso.com -> sarahwilson_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:41,115 - __main__ - INFO - ðŸ‘¤ Creating external user: Sarah Wilson (sarahwilson@contoso.com)
2025-05-28 15:07:41,955 - __main__ - INFO - âœ… External user created successfully: sarahwilson@contoso.com -> sarahwilson_contoso.com#EXT#@telescopedevexternal.onmicrosoft.com
2025-05-28 15:07:41,958 - __main__ - INFO - âœ… Successfully created: Sarah Wilson
2025-05-28 15:07:41,959 - __main__ - INFO - ðŸ’¾ Results saved to external_user_creation_results.json
